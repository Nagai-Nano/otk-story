{"version":3,"sources":["assets/logo.png","utils/theme.js","context/ThemeContext.js","context/StoriesContext.js","styles/Global.js","components/Layout/Styles.js","components/Layout/Header.js","components/Layout/Content.js","components/Layout/Footer.js","components/DatePicker/Styles.js","components/DatePicker/index.js","utils/dateTime.js","components/Stories/Styles.js","components/Spin/Styles.js","components/Spin/index.js","components/Story/Styles.js","components/Image/Styles.js","components/Image/ImageLoading.js","components/Image/ImageError.js","components/Image/index.js","components/Story/index.js","components/Stories/index.js","components/Modal/Styles.js","components/Modal/index.js","App.js","index.js"],"names":["module","exports","THEME_PATH","process","themeConfig","default","localStorage","getItem","themeMap","light","dark","createLinkEl","attrs","link","document","createElement","Object","keys","forEach","key","onload","insertStyle","node","target","head","querySelector","insertBefore","ThemeContext","createContext","ThemeProvider","children","useState","status","setStatus","currentTheme","setCurrentTheme","useEffect","theme","themePrefetch","rel","as","href","id","switchTheme","body","classList","remove","add","prevTheme","getElementById","linkEl","type","setItem","Provider","value","themes","reduce","acc","mode","StoriesContext","initState","date","moment","loading","error","stories","story","currentImage","reducer","state","payload","find","s","currentImageIdx","findIndex","Id","idx","isFirstImage","isLastImage","length","newIdx","useStoriesContext","useContext","StoriesProvider","useReducer","dispatch","GlobalStyle","createGlobalStyle","css","StyledLayout","styled","Layout","StyledHeader","Header","StyledContent","Content","StyledFooter","Footer","className","src","logo","alt","selectedKeys","Item","onClick","AlertOutlined","style","marginRight","window","open","GithubOutlined","DatePickerWrap","div","DatePicker","setDate","handleChangeDate","amount","newDate","clone","handleDateChage","momentDate","size","format","allowClear","onChange","disabled","icon","LeftOutlined","RightOutlined","StoriesWrap","spinning1","keyframes","spinning2","spinning3","SpinWrap","Spinner","SpinInner","Spin","StoryCollapse","Collapse","StoryPanelHeader","StoryCard","Card","EmptyMessage","ImageWrap","ImageSkeleton","Skeleton","ImageErrorMessage","ImageLoading","avatar","shape","active","paragraph","title","ImageError","WarningOutlined","Image","onImageClick","props","setLoading","setError","imageRef","useRef","img","onImageLoad","onerror","onImageError","current","ref","undefined","Story","handleOpenImageDetail","defaultActiveKey","expandIcon","isActive","CaretRightOutlined","rotate","Panel","header","map","url","ThumbUrl","Name","Url","hoverable","cover","actions","FileImageOutlined","DownloadOutlined","a","click","Stories","fetchStories","fetchStory","fetch","response","json","i","currentDate","promises","push","subtract","Promise","all","notification","destroy","message","description","ModalIcon","StoryModal","addEventListener","handleKeyDown","removeEventListener","handleCloseModal","handleChangeImage","pos","code","Fragment","CloseOutlined","ArrowLeftOutlined","ArrowRightOutlined","closable","visible","onCancel","centered","destroyOnClose","footer","App","Modal","ReactDOM","render","Global"],"mappings":"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","file":"static/js/main.62ebcfcd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.6ad731b9.png\";","const THEME_PATH = `${process.env.PUBLIC_URL}/theme`;\nconst DEFAULT_THEME = localStorage.getItem('APP_THEME') || 'light';\n\nexport const themeConfig = {\n  default: DEFAULT_THEME,\n  themeMap: {\n    light: `${THEME_PATH}/light.theme.css`,\n    dark: `${THEME_PATH}/dark.theme.css`\n  }\n};\n\nexport const createLinkEl = attrs => {\n  const link = document.createElement('link');\n\n  Object.keys(attrs).forEach(key => {\n    if (key === 'onload') {\n      link.onload = attrs.onload;\n    }\n    link[key] = attrs[key];\n  });\n\n  return link;\n};\n\nexport const insertStyle = node => {\n  const target = document.head.querySelector('title');\n  document.head.insertBefore(node, target);\n};\n\nexport const getThemeKeys = () => {\n  return Object.keys(themeConfig.themeMap).reduce((acc, key) => {\n    acc[key] = key;\n    return acc;\n  }, {});\n};\n","import React, { createContext, useState, useEffect, useContext } from 'react';\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components';\n\nimport {\n  createLinkEl,\n  insertStyle,\n  themeConfig,\n  getThemeKeys\n} from 'utils/theme';\n\nconst ThemeContext = createContext();\nconst CURRENT_THEME_ID = 'current-theme';\n\nfunction ThemeProvider({ children }) {\n  const [status, setStatus] = useState('loading');\n  const [currentTheme, setCurrentTheme] = useState(null);\n\n  useEffect(() => {\n    Object.keys(themeConfig.themeMap).forEach(theme => {\n      const themePrefetch = createLinkEl({\n        rel: 'prefetch',\n        as: 'style',\n        href: themeConfig.themeMap[theme],\n        id: `${theme}-theme-prefetch`\n      });\n      insertStyle(themePrefetch);\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    switchTheme(themeConfig.default);\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (status === 'loading') {\n      document.body.classList.remove('theme-loaded');\n      document.body.classList.add('theme-loading');\n    } else {\n      document.body.classList.remove('theme-loading');\n      document.body.classList.add('theme-loaded');\n    }\n  }, [status]);\n\n  const switchTheme = theme => {\n    if (theme === currentTheme) return;\n\n    const prevTheme = document.getElementById(CURRENT_THEME_ID);\n    if (prevTheme) prevTheme.remove();\n\n    setStatus('loading');\n    const linkEl = createLinkEl({\n      type: 'text/css',\n      rel: 'stylesheet',\n      id: CURRENT_THEME_ID,\n      href: themeConfig.themeMap[theme],\n      onload: () => setStatus('loaded')\n    });\n\n    localStorage.setItem('APP_THEME', theme);\n    insertStyle(linkEl);\n    setCurrentTheme(theme);\n  };\n\n  return (\n    <ThemeContext.Provider\n      value={{\n        status,\n        themes: getThemeKeys(),\n        currentTheme,\n        switchTheme\n      }}\n    >\n      <StyledThemeProvider theme={{ mode: currentTheme }}>\n        {children}\n      </StyledThemeProvider>\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useThemeContext() {\n  return useContext(ThemeContext);\n}\n\nexport default ThemeProvider;\n","import React, { createContext, useReducer, useContext } from 'react';\nimport moment from 'moment';\n\nconst StoriesContext = createContext();\n\nconst initState = {\n  date: moment(),\n  loading: false,\n  error: false,\n  stories: [],\n  story: [],\n  currentImage: {}\n};\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case 'DATE_CHANGE':\n      return { ...state, date: payload };\n    case 'FETCHING':\n      return { ...state, loading: true, error: false };\n    case 'SET_STORIES':\n      return { ...state, loading: false, stories: payload };\n    case 'FETCH_FAILED':\n      return { ...state, loading: false, error: true };\n    case 'ADD_STORY':\n      const story = state.stories.find(s => s.date === payload.date).story;\n      const currentImageIdx = story.findIndex(s => s.Id === payload.id);\n      return {\n        ...state,\n        story,\n        currentImage: {\n          ...story[currentImageIdx],\n          idx: currentImageIdx,\n          isFirstImage: currentImageIdx === 0,\n          isLastImage: currentImageIdx === story.length - 1\n        }\n      };\n    case 'REMOVE_STORY':\n      return { ...state, story: [], currentImage: {} };\n    case 'CHANGE_CURRENT_IMAGE':\n      const newIdx = state.currentImage.idx + payload;\n      return {\n        ...state,\n        currentImage: {\n          ...state.story[newIdx],\n          idx: newIdx,\n          isFirstImage: newIdx === 0,\n          isLastImage: newIdx === state.story.length - 1\n        }\n      };\n    default:\n      return state;\n  }\n}\n\nfunction StoriesProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initState);\n\n  return (\n    <StoriesContext.Provider value={{ state, dispatch }}>\n      {children}\n    </StoriesContext.Provider>\n  );\n}\n\nexport function useStoriesContext() {\n  return useContext(StoriesContext);\n}\n\nexport default StoriesProvider;\n","import { createGlobalStyle, css } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  ${({ theme }) => css`\n    body {\n      font-family: 'IBM Plex Sans', sans-serif;\n      background: ${theme.mode === 'dark' ? '#18191a' : '#eef0f1'};\n      color: ${theme.mode === 'dark' ? '#ffffff' : '#000000'};\n      transition: opacity 0.2s;\n\n      &.theme-loading {\n        display: none;\n      }\n      &.theme-loaded {\n        display: block;\n      }\n    }\n  `}\n\n  .ant-back-top {\n    right: 30px;\n    bottom: 30px;\n  }\n\n  .ant-back-top-icon {\n    font-size: 20px;\n  }\n\n  .ant-modal-mask {\n    background-color: rgba(0,0,0,.7);\n  }\n\n  .ant-modal-body {\n    padding: 0;\n  }\n\n  .ant-modal-body > div:not(.loaded) {\n    height: 45rem;\n  }\n\n  ::-webkit-scrollbar {\n    width: 11px;\n    height: 10px;\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-button {\n    width: 0;\n    height: 0;\n    display: none;\n  }\n\n  ::-webkit-scrollbar-corner {\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    height: 6px;\n    border: 2px solid transparent;\n    background-clip: padding-box;\n    border-radius: 7px;\n    background-color: ${({ theme }) =>\n      theme.mode === 'dark' ? 'rgba(255, 255, 255, 0.6)' : 'rgba(0,0,0,.2)'};\n  }\n`;\n\nexport default GlobalStyle;\n","import styled from 'styled-components';\nimport { Layout } from 'antd';\n\nexport const StyledLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n`;\n\nexport const StyledHeader = styled(Layout.Header)`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  overflow: hidden;\n\n  .logo {\n    width: 170px;\n\n    img {\n      width: 100%;\n      margin-bottom: 4px;\n    }\n  }\n\n  ul {\n    display: flex;\n    justify-content: flex-end;\n    border-bottom: none;\n    background: transparent;\n  }\n\n  .menu-icon {\n    margin-top: 8px !important;\n\n    span {\n      font-size: 1.5rem;\n    }\n  }\n\n  .ant-menu-item-active,\n  .ant-menu-item-selected,\n  .ant-menu-submenu,\n  .ant-menu-item {\n    border-bottom: none !important;\n    background: transparent;\n  }\n\n  @media (max-width: 575.98px) {\n    .ant-menu-item {\n      margin-left: 5px !important;\n    }\n  }\n`;\n\nexport const StyledContent = styled(Layout.Content)`\n  padding: 0 50px;\n  margin-top: 50px;\n  flex-grow: 1;\n`;\n\nexport const StyledFooter = styled(Layout.Footer)`\n  padding: 1rem 50px;\n  font-size: 1rem;\n  letter-spacing: 0.5px;\n\n  a:hover {\n    text-decoration: underline;\n  }\n`;\n","import React from 'react';\nimport { Menu } from 'antd';\nimport { GithubOutlined, AlertOutlined } from '@ant-design/icons';\n\nimport logo from 'assets/logo.png';\nimport { useThemeContext } from 'context/ThemeContext';\nimport { StyledHeader } from './Styles';\n\nfunction Header() {\n  const { currentTheme, switchTheme } = useThemeContext();\n\n  const handleSwitchTheme = () => {\n    switchTheme(currentTheme === 'light' ? 'dark' : 'light');\n  };\n\n  const openLinkRepo = () => [\n    window.open('https://github.com/Nagai-Nano/otk-story', '_blank')\n  ];\n\n  return (\n    <StyledHeader>\n      <a href=\"/\" className=\"logo\">\n        <img src={logo} alt=\"logo\" />\n      </a>\n      <Menu mode=\"horizontal\" selectedKeys={[]}>\n        <Menu.Item\n          key=\"1\"\n          className={\n            currentTheme === 'light'\n              ? 'menu-icon ant-menu-item-selected'\n              : 'menu-icon'\n          }\n          onClick={handleSwitchTheme}\n        >\n          <AlertOutlined />\n        </Menu.Item>\n        <Menu.Item\n          className=\"menu-icon\"\n          style={{ marginRight: 0 }}\n          onClick={openLinkRepo}\n        >\n          <GithubOutlined />\n        </Menu.Item>\n      </Menu>\n    </StyledHeader>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nimport { StyledContent } from './Styles';\n\nfunction Content({ children }) {\n  return <StyledContent>{children}</StyledContent>;\n}\n\nexport default Content;\n","import React from 'react';\n\nimport { StyledFooter } from './Styles';\n\nfunction Footer() {\n  return (\n    <StyledFooter>\n      Created by{' '}\n      <a\n        href=\"https://www.facebook.com/Nanoooooooooooooooooooooooooooooooooooooooooooooox\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Nano\n      </a>{' '}\n      ❤️{' '}\n      <a\n        href=\"https://github.com/Nagai-Nano/otk-story\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Otk-story\n      </a>\n    </StyledFooter>\n  );\n}\n\nexport default Footer;\n","import styled from 'styled-components';\n\nexport const DatePickerWrap = styled.div`\n  display: flex;\n  justify-content: flex-end;\n\n  button {\n    margin-left: 6px;\n\n    span {\n      font-size: 15px !important;\n    }\n  }\n\n  .ant-picker {\n    width: 16rem;\n\n    @media (max-width: 767.98px) {\n      flex-grow: 1;\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport moment from 'moment';\nimport { DatePicker as AntdDatePicker, Button } from 'antd';\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\n\nimport { DatePickerWrap } from './Styles';\n\nimport { DISPLAY_DATE_FORMAT } from 'utils/dateTime';\nimport { useStoriesContext } from 'context/StoriesContext';\n\nfunction DatePicker() {\n  const [date, setDate] = useState(moment());\n  const { state, dispatch } = useStoriesContext();\n\n  const handleChangeDate = amount => () => {\n    const newDate = date.clone().add(amount, 'days');\n    handleDateChage(newDate);\n  };\n\n  const handleDateChage = momentDate => {\n    setDate(momentDate);\n    dispatch({ type: 'DATE_CHANGE', payload: momentDate });\n  };\n\n  return (\n    <DatePickerWrap>\n      <AntdDatePicker\n        size=\"large\"\n        value={date}\n        format={DISPLAY_DATE_FORMAT}\n        allowClear={false}\n        onChange={handleDateChage}\n        disabled={state.loading}\n      />\n      <Button\n        size=\"large\"\n        icon={<LeftOutlined />}\n        loading={state.loading}\n        disabled={state.loading}\n        onClick={handleChangeDate(-7)}\n      />\n      <Button\n        size=\"large\"\n        icon={<RightOutlined />}\n        loading={state.loading}\n        disabled={state.loading}\n        onClick={handleChangeDate(7)}\n      />\n    </DatePickerWrap>\n  );\n}\n\nexport default DatePicker;\n","export const DISPLAY_DATE_FORMAT = 'DD/MM/YYYY';\nexport const FETCH_DATE_FORMAT = 'YYYY-MM-DD';\n","import styled from 'styled-components';\n\nexport const StoriesWrap = styled.div`\n  margin-top: 25px;\n`;\n","import styled, { keyframes } from 'styled-components';\n\nconst spinning1 = keyframes`\n  100% {\n    transform: rotateZ(120deg) rotateX(66deg) rotateZ(360deg);\n  }\n`;\n\nconst spinning2 = keyframes`\n  100% {\n    transform: rotateZ(240deg) rotateX(66deg) rotateZ(360deg);\n  }\n`;\n\nconst spinning3 = keyframes`\n  100% {\n    transform: rotateZ(360deg) rotateX(66deg) rotateZ(360deg);\n  }\n`;\n\nexport const SpinWrap = styled.div`\n  width: 100%;\n  height: 50vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Spinner = styled.div`\n  height: 60px;\n  width: 60px;\n  overflow: hidden;\n`;\n\nexport const SpinInner = styled.div`\n  position: relative;\n  display: block;\n  height: 100%;\n  width: 100%;\n\n  .line {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    animation-duration: 1s;\n    border-left-width: calc(60px / 25);\n    border-top-width: calc(60px / 25);\n    border-left-color: #13c2c2;\n    border-left-style: solid;\n    border-top-style: solid;\n    border-top-color: transparent;\n\n    &:nth-child(1) {\n      animation: ${spinning1} 1s linear infinite;\n      transform: rotateZ(120deg) rotateX(66deg) rotateZ(0deg);\n    }\n\n    &:nth-child(2) {\n      animation: ${spinning2} 1s linear infinite;\n      transform: rotateZ(240deg) rotateX(66deg) rotateZ(0deg);\n    }\n\n    &:nth-child(3) {\n      animation: ${spinning3} 1s linear infinite;\n      transform: rotateZ(360deg) rotateX(66deg) rotateZ(0deg);\n    }\n  }\n\n  .circle {\n    display: block;\n    position: absolute;\n    color: #13c2c2;\n    font-size: calc(60px * 0.24);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n`;\n","import React from 'react';\n\nimport { SpinWrap, Spinner, SpinInner } from './Styles';\n\nfunction Spin() {\n  return (\n    <SpinWrap>\n      <Spinner>\n        <SpinInner>\n          <div className=\"line\" />\n          <div className=\"line\" />\n          <div className=\"line\" />\n          <div className=\"circle\">&#9679;</div>\n        </SpinInner>\n      </Spinner>\n    </SpinWrap>\n  );\n}\n\nexport default Spin;\n","import styled from 'styled-components';\nimport { Collapse, Card } from 'antd';\n\nexport const StoryCollapse = styled(Collapse)`\n  margin-bottom: 25px;\n  border-radius: 4px;\n  box-shadow: 0 0 0 1px\n    ${({ theme }) => (theme.mode === 'dark' ? 'rgba(0,0,0,.2)' : '#08090a0d')};\n  border: none;\n\n  .ant-collapse-item,\n  .ant-collapse-header {\n    border-radius: 4px !important;\n    border-bottom: 0;\n  }\n\n  .ant-collapse-content {\n    border-top-color: ${({ theme }) =>\n      theme.mode === 'dark' ? '#393a3b' : '#08090a0d'};\n  }\n\n  .ant-collapse-content-box {\n    display: grid;\n    grid-template-columns: repeat(6, 1fr);\n    grid-gap: 1rem;\n\n    @media (max-width: 1499.98px) {\n      grid-template-columns: repeat(5, 1fr);\n    }\n\n    @media (max-width: 1199.98px) {\n      grid-template-columns: repeat(4, 1fr);\n    }\n\n    @media (max-width: 991.98px) {\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media (max-width: 767.98px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n\n    @media (max-width: 575.98px) {\n      grid-template-columns: 1fr;\n    }\n  }\n`;\n\nexport const StoryPanelHeader = styled.div`\n  font-size: 1.4rem;\n  font-weight: 500;\n  letter-spacing: 1px;\n  margin-left: 7px;\n`;\n\nexport const StoryCard = styled(Card)`\n  border-radius: 4px;\n  background: transparent;\n  border-color: ${({ theme }) =>\n    theme.mode === 'dark' ? '#393a3b' : '#f0f0f0'};\n  overflow: hidden;\n\n  &:hover .ant-card-cover img {\n    transform: scale(1.05);\n  }\n\n  .ant-card-body {\n    display: none;\n  }\n\n  .ant-card-cover {\n    height: 22rem;\n    overflow: hidden;\n  }\n\n  .ant-card-actions {\n    border-radius: 4px;\n    border-top: 0;\n    background: ${({ theme }) =>\n      theme.mode === 'dark' ? '#242526' : '#ffffff'};\n\n    .anticon {\n      opacity: 1;\n      color: ${({ theme }) =>\n        theme.mode === 'dark' ? '#ffffffa6' : '#8c8c8c'};\n\n      &:hover {\n        color: #13c2c2;\n      }\n    }\n\n    li:not(:last-child) {\n      border-right-color: ${({ theme }) =>\n        theme.mode === 'dark' ? '#ffffffa6' : '#f0f0f0'};\n    }\n  }\n`;\n\nexport const EmptyMessage = styled.div`\n  grid-column: 1/-1;\n  text-align: center;\n  font-size: 1.2rem;\n  text-transform: uppercase;\n  color: ${({ theme }) =>\n    theme.mode === 'dark' ? 'rgba(255,255,255,.4)' : 'rgba(0,0,0,.4)'};\n  padding: 1rem;\n  letter-spacing: 1px;\n`;\n","import styled from 'styled-components';\nimport { Skeleton } from 'antd';\n\nexport const ImageWrap = styled.div`\n  width: 100%;\n  height: 100%;\n\n  img {\n    width: 0;\n    height: 0;\n    object-fit: cover;\n    opacity: 0;\n    transition: 0.2s;\n    border-radius: 4px;\n  }\n\n  &.loaded img {\n    opacity: 1;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nexport const ImageSkeleton = styled(Skeleton)`\n  height: 100%;\n\n  .ant-skeleton-header,\n  .ant-skeleton-avatar {\n    padding: 0;\n    height: 100%;\n    width: 100%;\n    border-radius: 4px;\n  }\n`;\n\nexport const ImageErrorMessage = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #f5222d;\n  font-size: 1.1rem;\n  letter-spacing: 0.2px;\n  background: ${({ theme }) =>\n    theme.mode === 'dark' ? 'rgba(255,255,255,.03)' : 'rgba(0,0,0,.03)'};\n\n  .anticon-warning {\n    font-size: 2rem;\n    margin-bottom: 10px;\n  }\n`;\n","import React from 'react';\n\nimport { ImageSkeleton } from './Styles';\n\nfunction ImageLoading() {\n  return (\n    <ImageSkeleton\n      avatar={{ shape: 'square' }}\n      active\n      loading\n      paragraph={false}\n      title={false}\n    />\n  );\n}\n\nexport default ImageLoading;\n","import React from 'react';\nimport { WarningOutlined } from '@ant-design/icons';\n\nimport { ImageErrorMessage } from './Styles';\n\nfunction ImageError() {\n  return (\n    <ImageErrorMessage>\n      <WarningOutlined />\n      <span>Failed to load image</span>\n    </ImageErrorMessage>\n  );\n}\n\nexport default ImageError;\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport { ImageWrap } from './Styles';\n\nimport ImageLoading from './ImageLoading';\nimport ImageError from './ImageError';\n\nfunction Image({ src, alt, onImageClick, ...props }) {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const imageRef = useRef();\n\n  useEffect(() => {\n    const img = document.createElement('img');\n    img.src = src;\n    img.onload = onImageLoad;\n    img.onerror = onImageError;\n    // eslint-disable-next-line\n  }, [src]);\n\n  const onImageLoad = () => {\n    if (imageRef && imageRef.current) {\n      imageRef.current.src = src;\n      setError(false);\n      setLoading(false);\n    }\n  };\n\n  const onImageError = () => {\n    setError(true);\n    setLoading(false);\n  };\n\n  return (\n    <ImageWrap className={!loading && !error ? 'loaded' : ''}>\n      {loading && <ImageLoading />}\n      {error && <ImageError />}\n      {!error && (\n        <img\n          {...props}\n          alt={alt}\n          ref={imageRef}\n          onClick={!loading ? onImageClick : undefined}\n        />\n      )}\n    </ImageWrap>\n  );\n}\n\nexport default Image;\n","import React from 'react';\nimport moment from 'moment';\nimport {\n  CaretRightOutlined,\n  FileImageOutlined,\n  DownloadOutlined\n} from '@ant-design/icons';\n\nimport {\n  StoryCollapse,\n  StoryPanelHeader,\n  StoryCard,\n  EmptyMessage\n} from './Styles';\n\nimport { DISPLAY_DATE_FORMAT } from 'utils/dateTime';\nimport { useStoriesContext } from 'context/StoriesContext';\nimport Image from 'components/Image';\n\nfunction Story({ date, story }) {\n  const { dispatch } = useStoriesContext();\n\n  const handleOpenImageDetail = id => () => {\n    window.open(`https://otakusan.net/Cosplay/PictureDetail/${id}`, '_blank');\n  };\n\n  const handleDownloadImage = url => () => {\n    const a = document.createElement('a');\n    a.href = url;\n    a.target = '_blank';\n    a.click();\n  };\n\n  const handleImageClick = id => () => {\n    dispatch({\n      type: 'ADD_STORY',\n      payload: { id, date }\n    });\n  };\n\n  return (\n    <StoryCollapse\n      defaultActiveKey={[date]}\n      expandIcon={({ isActive }) => (\n        <CaretRightOutlined rotate={isActive ? 90 : 0} />\n      )}\n    >\n      <StoryCollapse.Panel\n        header={\n          <StoryPanelHeader>\n            {moment(date).format(DISPLAY_DATE_FORMAT)}\n          </StoryPanelHeader>\n        }\n        key={date}\n      >\n        {!!story.length ? (\n          story.map(({ Id, ThumbUrl, Name, Url }) => (\n            <StoryCard\n              key={Id}\n              hoverable\n              cover={\n                <Image\n                  src={ThumbUrl}\n                  alt={Name}\n                  onImageClick={handleImageClick(Id)}\n                />\n              }\n              actions={[\n                <FileImageOutlined\n                  key=\"file\"\n                  onClick={handleOpenImageDetail(Id)}\n                />,\n                <DownloadOutlined\n                  key=\"download\"\n                  onClick={handleDownloadImage(Url)}\n                />\n              ]}\n            />\n          ))\n        ) : (\n          <EmptyMessage>No images found</EmptyMessage>\n        )}\n      </StoryCollapse.Panel>\n    </StoryCollapse>\n  );\n}\n\nexport default Story;\n","import React, { useEffect } from 'react';\nimport { notification } from 'antd';\n\nimport { StoriesWrap } from './Styles';\n\nimport { FETCH_DATE_FORMAT } from 'utils/dateTime';\nimport { useStoriesContext } from 'context/StoriesContext';\nimport Spin from 'components/Spin';\nimport Story from 'components/Story';\n\nconst END_POINT =\n  'https://service.otakuscan.net/api/cosplayservice/Cosplaybydate';\n\nfunction Stories() {\n  const { state, dispatch } = useStoriesContext();\n\n  useEffect(() => {\n    fetchStories();\n    // eslint-disable-next-line\n  }, [state.date]);\n\n  const fetchStory = async date => {\n    const response = await fetch(`${END_POINT}?date=${date}`);\n    const story = await response.json();\n    return { date, story };\n  };\n\n  const getDate = (date, amount) => {\n    return date.subtract(amount, 'days').format(FETCH_DATE_FORMAT);\n  };\n\n  const fetchStories = async () => {\n    let i = 0;\n    const currentDate = state.date.clone();\n    const promises = [];\n\n    try {\n      dispatch({ type: 'FETCHING' });\n\n      do {\n        promises.push(fetchStory(getDate(currentDate, !i ? 0 : 1)));\n        i++;\n      } while (7 > i);\n\n      const stories = await Promise.all(promises);\n      dispatch({ type: 'SET_STORIES', payload: stories });\n    } catch {\n      dispatch({ type: 'FETCH_FAILED' });\n\n      notification.destroy();\n      notification.error({\n        message: 'Error',\n        description: 'Something went wrong, please try again!'\n      });\n    }\n  };\n\n  if (state.error) {\n    return null;\n  }\n\n  if (state.loading) {\n    return <Spin />;\n  }\n\n  return (\n    <StoriesWrap>\n      {state.stories.map(story => (\n        <Story key={story.date} {...story} />\n      ))}\n    </StoriesWrap>\n  );\n}\n\nexport default Stories;\n","import styled from 'styled-components';\n\nexport const ModalIcon = styled.div`\n  position: fixed;\n  font-size: 1.3rem;\n  color: #fff;\n  width: 3rem;\n  height: 3rem;\n  z-index: 3090;\n  background: transparent;\n  line-height: 3rem;\n  text-align: center;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: 0.2s;\n\n  &:hover {\n    background: #fff;\n    color: #000;\n  }\n\n  &.close {\n    top: 10px;\n    right: 10px;\n  }\n\n  &.next {\n    right: 12px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n\n  &.prev {\n    left: 12px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n`;\n","import React, { useEffect } from 'react';\nimport { Modal } from 'antd';\nimport {\n  CloseOutlined,\n  ArrowLeftOutlined,\n  ArrowRightOutlined\n} from '@ant-design/icons';\n\nimport { ModalIcon } from './Styles';\n\nimport { useStoriesContext } from 'context/StoriesContext';\nimport Image from 'components/Image';\n\nfunction StoryModal() {\n  const { state, dispatch } = useStoriesContext();\n\n  const { story, currentImage } = state;\n  const { Name, Url, isFirstImage, isLastImage, idx } = currentImage;\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n    // eslint-disable-next-line\n  }, [story, Url]);\n\n  const handleCloseModal = () => {\n    dispatch({ type: 'REMOVE_STORY' });\n  };\n\n  const handleChangeImage = pos => () => {\n    dispatch({ type: 'CHANGE_CURRENT_IMAGE', payload: pos });\n  };\n\n  const handleKeyDown = ({ code }) => {\n    if (!story.length && !Url) return;\n\n    if (code === 'ArrowLeft' && !isFirstImage) {\n      handleChangeImage(-1)();\n    }\n\n    if (code === 'ArrowRight' && !isLastImage) {\n      handleChangeImage(1)();\n    }\n  };\n\n  return (\n    <React.Fragment>\n      {!!story.length && (\n        <React.Fragment>\n          <ModalIcon className=\"close\" onClick={handleCloseModal}>\n            <CloseOutlined />\n          </ModalIcon>\n          {!isFirstImage && (\n            <ModalIcon className=\"prev\" onClick={handleChangeImage(-1)}>\n              <ArrowLeftOutlined />\n            </ModalIcon>\n          )}\n          {!isLastImage && (\n            <ModalIcon className=\"next\" onClick={handleChangeImage(1)}>\n              <ArrowRightOutlined />\n            </ModalIcon>\n          )}\n        </React.Fragment>\n      )}\n      <Modal\n        closable={false}\n        visible={!!story.length}\n        onCancel={handleCloseModal}\n        centered\n        destroyOnClose\n        footer={null}\n      >\n        {!!Url && <Image key={idx} src={Url} alt={Name} />}\n      </Modal>\n    </React.Fragment>\n  );\n}\n\nexport default StoryModal;\n","import React from 'react';\nimport { BackTop } from 'antd';\n\nimport { StyledLayout } from 'components/Layout/Styles';\nimport { Header, Content, Footer } from 'components/Layout';\nimport DatePicker from 'components/DatePicker';\nimport Stories from 'components/Stories';\nimport Modal from 'components/Modal';\n\nfunction App() {\n  return (\n    <StyledLayout>\n      <Header />\n      <Content>\n        <DatePicker />\n        <Stories />\n      </Content>\n      <BackTop />\n      <Footer>xxx</Footer>\n      <Modal />\n    </StyledLayout>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ThemeProvider from 'context/ThemeContext';\nimport StoriesProvider from 'context/StoriesContext';\nimport GlobalStyle from 'styles/Global';\nimport App from 'App';\n\nReactDOM.render(\n  <ThemeProvider>\n    <StoriesProvider>\n      <GlobalStyle />\n      <App />\n    </StoriesProvider>\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}